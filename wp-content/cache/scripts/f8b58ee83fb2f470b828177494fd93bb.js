/* naked: (http://hapvidaplanosdesaude.com.br/wp-content/themes/hapvida/js/app.js) */
function Swipe(container,options){"use strict";function setup(){slides=element.children,length=slides.length,slides.length<2&&(options.continuous=!1),browser.transitions&&options.continuous&&slides.length<3&&(element.appendChild(slides[0].cloneNode(!0)),element.appendChild(element.children[1].cloneNode(!0)),slides=element.children),slidePos=new Array(slides.length),width=container.getBoundingClientRect().width||container.offsetWidth,element.style.width=slides.length*width+"px";for(var pos=slides.length;pos--;){var slide=slides[pos];slide.style.width=width+"px",slide.setAttribute("data-index",pos),browser.transitions&&(slide.style.left=pos*-width+"px",move(pos,index>pos?-width:pos>index?width:0,0))}options.continuous&&browser.transitions&&(move(circle(index-1),-width,0),move(circle(index+1),width,0)),browser.transitions||(element.style.left=index*-width+"px"),container.style.visibility="visible"}function prev(){options.continuous?slide(index-1):index&&slide(index-1)}function next(){options.continuous?slide(index+1):index<slides.length-1&&slide(index+1)}function circle(index){return(slides.length+index%slides.length)%slides.length}function slide(to,slideSpeed){if(index!=to){if(browser.transitions){var direction=Math.abs(index-to)/(index-to);if(options.continuous){var natural_direction=direction;direction=-slidePos[circle(to)]/width,direction!==natural_direction&&(to=-direction*slides.length+to)}for(var diff=Math.abs(index-to)-1;diff--;)move(circle((to>index?to:index)-diff-1),width*direction,0);to=circle(to),move(index,width*direction,slideSpeed||speed),move(to,0,slideSpeed||speed),options.continuous&&move(circle(to-direction),-(width*direction),0)}else to=circle(to),animate(index*-width,to*-width,slideSpeed||speed);index=to,offloadFn(options.callback&&options.callback(index,slides[index]))}}function move(index,dist,speed){translate(index,dist,speed),slidePos[index]=dist}function translate(index,dist,speed){var slide=slides[index],style=slide&&slide.style;style&&(style.webkitTransitionDuration=style.MozTransitionDuration=style.msTransitionDuration=style.OTransitionDuration=style.transitionDuration=speed+"ms",style.webkitTransform="translate("+dist+"px,0)translateZ(0)",style.msTransform=style.MozTransform=style.OTransform="translateX("+dist+"px)")}function animate(from,to,speed){if(!speed)return void(element.style.left=to+"px");var start=+new Date,timer=setInterval(function(){var timeElap=+new Date-start;return timeElap>speed?(element.style.left=to+"px",delay&&begin(),options.transitionEnd&&options.transitionEnd.call(event,index,slides[index]),void clearInterval(timer)):void(element.style.left=(to-from)*(Math.floor(timeElap/speed*100)/100)+from+"px")},4)}function begin(){interval=setTimeout(next,delay)}function stop(){delay=0,clearTimeout(interval)}var noop=function(){},offloadFn=function(fn){setTimeout(fn||noop,0)},browser={addEventListener:!!window.addEventListener,touch:"ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch,transitions:function(temp){var props=["transitionProperty","WebkitTransition","MozTransition","OTransition","msTransition"];for(var i in props)if(void 0!==temp.style[props[i]])return!0;return!1}(document.createElement("swipe"))};if(container){var slides,slidePos,width,length,element=container.children[0];options=options||{};var index=parseInt(options.startSlide,10)||0,speed=options.speed||300;options.continuous=void 0!==options.continuous?options.continuous:!0;var interval,isScrolling,delay=options.auto||0,start={},delta={},events={handleEvent:function(event){switch(event.type){case"touchstart":this.start(event);break;case"touchmove":this.move(event);break;case"touchend":offloadFn(this.end(event));break;case"webkitTransitionEnd":case"msTransitionEnd":case"oTransitionEnd":case"otransitionend":case"transitionend":offloadFn(this.transitionEnd(event));break;case"resize":offloadFn(setup)}options.stopPropagation&&event.stopPropagation()},start:function(event){var touches=event.touches[0];start={x:touches.pageX,y:touches.pageY,time:+new Date},isScrolling=void 0,delta={},element.addEventListener("touchmove",this,!1),element.addEventListener("touchend",this,!1)},move:function(event){if(!(event.touches.length>1||event.scale&&1!==event.scale)){options.disableScroll&&event.preventDefault();var touches=event.touches[0];delta={x:touches.pageX-start.x,y:touches.pageY-start.y},"undefined"==typeof isScrolling&&(isScrolling=!!(isScrolling||Math.abs(delta.x)<Math.abs(delta.y))),isScrolling||(event.preventDefault(),stop(),options.continuous?(translate(circle(index-1),delta.x+slidePos[circle(index-1)],0),translate(index,delta.x+slidePos[index],0),translate(circle(index+1),delta.x+slidePos[circle(index+1)],0)):(delta.x=delta.x/(!index&&delta.x>0||index==slides.length-1&&delta.x<0?Math.abs(delta.x)/width+1:1),translate(index-1,delta.x+slidePos[index-1],0),translate(index,delta.x+slidePos[index],0),translate(index+1,delta.x+slidePos[index+1],0)))}},end:function(event){var duration=+new Date-start.time,isValidSlide=Number(duration)<250&&Math.abs(delta.x)>20||Math.abs(delta.x)>width/2,isPastBounds=!index&&delta.x>0||index==slides.length-1&&delta.x<0;options.continuous&&(isPastBounds=!1);var direction=delta.x<0;isScrolling||(isValidSlide&&!isPastBounds?(direction?(options.continuous?(move(circle(index-1),-width,0),move(circle(index+2),width,0)):move(index-1,-width,0),move(index,slidePos[index]-width,speed),move(circle(index+1),slidePos[circle(index+1)]-width,speed),index=circle(index+1)):(options.continuous?(move(circle(index+1),width,0),move(circle(index-2),-width,0)):move(index+1,width,0),move(index,slidePos[index]+width,speed),move(circle(index-1),slidePos[circle(index-1)]+width,speed),index=circle(index-1)),options.callback&&options.callback(index,slides[index])):options.continuous?(move(circle(index-1),-width,speed),move(index,0,speed),move(circle(index+1),width,speed)):(move(index-1,-width,speed),move(index,0,speed),move(index+1,width,speed))),element.removeEventListener("touchmove",events,!1),element.removeEventListener("touchend",events,!1)},transitionEnd:function(event){parseInt(event.target.getAttribute("data-index"),10)==index&&(delay&&begin(),options.transitionEnd&&options.transitionEnd.call(event,index,slides[index]))}};return setup(),delay&&begin(),browser.addEventListener?(browser.touch&&element.addEventListener("touchstart",events,!1),browser.transitions&&(element.addEventListener("webkitTransitionEnd",events,!1),element.addEventListener("msTransitionEnd",events,!1),element.addEventListener("oTransitionEnd",events,!1),element.addEventListener("otransitionend",events,!1),element.addEventListener("transitionend",events,!1)),window.addEventListener("resize",events,!1)):window.onresize=function(){setup()},{setup:function(){setup()},slide:function(to,speed){stop(),slide(to,speed)},prev:function(){stop(),prev()},next:function(){stop(),next()},stop:function(){stop()},getPos:function(){return index},getNumSlides:function(){return length},kill:function(){stop(),element.style.width="",element.style.left="";for(var pos=slides.length;pos--;){var slide=slides[pos];slide.style.width="",slide.style.left="",browser.transitions&&translate(pos,0,0)}browser.addEventListener?(element.removeEventListener("touchstart",events,!1),element.removeEventListener("webkitTransitionEnd",events,!1),element.removeEventListener("msTransitionEnd",events,!1),element.removeEventListener("oTransitionEnd",events,!1),element.removeEventListener("otransitionend",events,!1),element.removeEventListener("transitionend",events,!1),window.removeEventListener("resize",events,!1)):window.onresize=null}}}}var app={};yepnope({test:Modernizr.classlist,nope:"https://cdnjs.cloudflare.com/ajax/libs/classlist/2014.01.31/classList.min.js"}),app.menu=function(){function menuToggle(el){el.classList.toggle("is-active")}var button=document.getElementById("menu-button"),nav=document.getElementById("nav-main");document.addEventListener&&button.addEventListener("click",function(){menuToggle(nav)})},(window.jQuery||window.Zepto)&&!function($){$.fn.Swipe=function(params){return this.each(function(){$(this).data("Swipe",new Swipe($(this)[0],params))})}}(window.jQuery||window.Zepto),function(){app.menu();var slideshow=document.getElementById("slider");slideshow&&(window.mySwipe=new Swipe(slideshow,{speed:400,auto:4e3,continuous:!1,callback:function(){for(var i=mySwipe.getPos(),el=document.querySelectorAll("#slider > ul > li"),x=0;x<el.length;x++)el[x].classList.contains("is-active")&&el[x].classList.remove("is-active");el[i].classList.add("is-active")}}))}(),document.getElementById("slider")&&(mySwipe.addBullets=function(el){el.insertAdjacentHTML("afterbegin","<ul class='swipe-bullets' id='bullets'></ul>");for(var bullets=document.getElementById("bullets"),slidesNum=mySwipe.getNumSlides(),slides=[],i=0;slidesNum>i;i++)slides.push("<li onclick='mySwipe.slide("+i+", 400);'></li>");slides=slides.join(""),bullets.insertAdjacentHTML("afterbegin",slides);var firstBullet=document.querySelectorAll("#bullets > li")[0];firstBullet.classList.add("is-active")},mySwipe.equalize=function(){var viewportWidth=Math.max(document.documentElement.clientWidth,window.innerWidth||0);if(document.body.classList.contains("home")&&viewportWidth>=750)for(var slideImg,slider=document.getElementById("slider"),sliderSibiling=slider.parentNode.nextElementSibling,wrap=slider.parentNode.parentNode,sliders=document.querySelectorAll(".swipe-wrap > div"),i=0;i<sliders.length;i++)slideImg=sliders[i].querySelector("img"),sliders[i].style.background="url("+slideImg.getAttribute("src")+") center no-repeat",sliders[i].style.backgroundSize="cover",sliders[i].style.height=Math.max(wrap.clientHeight,sliderSibiling.clientHeight),sliders[i].innerHTML=""},mySwipe.addBullets(document.getElementById("slider")),document.addEventListener("DOMContentLoaded",function(){mySwipe.equalize()})),app.modal=function(){var modal=document.getElementById("select-city");if(modal){document.getElementById("wrap");document.body.classList.add("has-modal")}},app.modalClose=function(el){el.addEventListener("click",function(){document.body.classList.remove("has-modal")})},document.addEventListener("DOMContentLoaded",function(){app.modal(),app.modalClose(document.getElementById("modal-close"))});